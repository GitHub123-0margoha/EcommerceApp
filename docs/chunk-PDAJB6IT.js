import{$ as o,Aa as H,Ba as M,Da as D,G as b,H as x,Na as T,Q as g,R as E,S as r,Sa as A,T as p,U as I,V as f,W as v,Xa as N,_ as c,aa as l,ba as B,ca as S,cb as V,da as w,db as j,ea as k,eb as q,fa as d,ga as m,ia as L,ja as s,jb as z,ka as C,la as _,lb as W,ma as F,na as O,oa as R,qa as P}from"./chunk-7RK4XR72.js";var h=class i{constructor(e){this.ele=e;this.ele.nativeElement.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.2)",this.ele.nativeElement.style.position="relative",this.ele.nativeElement.style.transition="all 0.3s ease",this.ele.nativeElement.style.zIndex="1"}over(){this.ele.nativeElement.style.boxShadow="0 8px 16px rgba(0, 0, 0, 0.6)",this.ele.nativeElement.style.transform="scale(1.05)",this.ele.nativeElement.style.zIndex="1000"}out(){this.ele.nativeElement.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.2)",this.ele.nativeElement.style.transform="scale(1)",this.ele.nativeElement.style.zIndex="1"}static \u0275fac=function(t){return new(t||i)(p(g))};static \u0275dir=f({type:i,selectors:[["","appRoundborder",""]],hostBindings:function(t,n){t&1&&d("mouseover",function(){return n.over()})("mouseout",function(){return n.out()})}})};var y=class i{constructor(e){this.ele=e;this.ele.nativeElement.style.transition="all 0.3s ease"}hoverBgColor="white";over(){this.ele.nativeElement.style.backgroundColor=this.hoverBgColor}out(){this.ele.nativeElement.style.backgroundColor="white"}static \u0275fac=function(t){return new(t||i)(p(g))};static \u0275dir=f({type:i,selectors:[["","appBgColor",""]],hostBindings:function(t,n){t&1&&d("mouseover",function(){return n.over()})("mouseout",function(){return n.out()})},inputs:{hoverBgColor:"hoverBgColor"}})};var G=i=>["/add-product",i],Q=i=>["/details",i];function J(i,e){if(i&1&&(o(0,"option",2),s(1),l()),i&2){let t=e.$implicit;c("value",t.id),r(),C(t.name)}}function K(i,e){if(i&1){let t=k();o(0,"div",7)(1,"div",8),B(2,"img",9),o(3,"div",10)(4,"h5",11),s(5),l(),o(6,"p",12),s(7),l(),o(8,"p",12),s(9),l(),o(10,"div",13)(11,"button",14),d("click",function(){b(t);let a=m().$implicit,u=m();return x(u.buy(a))}),s(12,"Buy"),l(),o(13,"a",15),s(14,"Edit"),l(),o(15,"button",16),s(16,"Details"),l()()(),o(17,"button",17),d("click",function(){b(t);let a=m().$implicit,u=m();return x(u.deleteProduct(a.id))}),s(18,"Delete"),l()()()}if(i&2){let t=m().$implicit;r(2),c("src",t.imgUrl,E),r(),L("background-color",t.quantity<=1?"yellow":"white"),r(2),C(t.name),r(2),_("Price: ",t.price," "),r(2),_("Quantity: ",t.quantity),r(4),c("routerLink",P(8,G,t.id)),r(2),c("routerLink",P(10,Q,t.id))}}function X(i,e){if(i&1&&(S(0),v(1,K,19,12,"div",6),w()),i&2){let t=e.$implicit;r(),c("ngIf",t.quantity>0)}}var U=class i{constructor(e){this._apiPrd=e}totalPrice=0;productList=[];selectedProduct=null;categories=[];selectedCatId=0;ngOnInit(){this._apiPrd.getAllProducts().subscribe({next:e=>this.productList=e,error:e=>console.log(e)}),this._apiPrd.getAllCategories().subscribe({next:e=>this.categories=e,error:e=>console.log(e)})}filterByCategory(){this.selectedCatId==0?this._apiPrd.getAllProducts().subscribe({next:e=>this.productList=e,error:e=>console.error(e)}):this._apiPrd.getPrdByCatId(this.selectedCatId).subscribe({next:e=>this.productList=e,error:e=>console.error(e)})}buy(e){e.quantity>0&&(this.totalPrice+=e.price,e.quantity--)}deleteProduct(e){this._apiPrd.deletePrd(e).subscribe({next:()=>{this.productList=this.productList.filter(t=>t.id!==e)},error:t=>console.error(t)})}static \u0275fac=function(t){return new(t||i)(p(W))};static \u0275cmp=I({type:i,selectors:[["app-product"]],decls:9,vars:5,consts:[[1,"mb-3"],["id","exampleSelect",1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row","row-cols-1","row-cols-md-3","g-4","mt-3"],[4,"ngFor","ngForOf"],["class","col",4,"ngIf"],[1,"col"],["appRoundborder","",1,"card"],[1,"card-img-top","product-img",3,"src"],["appBgColor","","hoverBgColor","lightblue",1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],[1,"btn","btn-danger",3,"routerLink"],[1,"btn","btn-dark",3,"click"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"select",1),R("ngModelChange",function(u){return O(n.selectedCatId,u)||(n.selectedCatId=u),u}),d("change",function(){return n.filterByCategory()}),o(2,"option",2),s(3,"All Products"),l(),v(4,J,2,2,"option",3),l()(),o(5,"h3"),s(6),l(),o(7,"div",4),v(8,X,2,1,"ng-container",5),l()),t&2&&(r(),F("ngModel",n.selectedCatId),r(),c("value",0),r(2),c("ngForOf",n.categories),r(2),_("Total Order Price: ",n.totalPrice),r(2),c("ngForOf",n.productList))},dependencies:[D,H,M,z,j,q,V,A,N,h,y,T],styles:[".product-img[_ngcontent-%COMP%]{height:300px;width:100%;object-fit:cover}"]})};export{U as Product};
